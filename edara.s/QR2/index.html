<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>جمر — الرئيسية</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=El+Messiri:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary: #c62828;
      --primary-dark: #8e0000;
      --accent: #ffab00;
      --white: #fff;
      --text: #333;
      --shadow: 0 10px 30px rgba(0,0,0,.08);
    }
    
    * {
      box-sizing: border-box;
    }
    
    body {
      font-family: 'El Messiri', sans-serif;
      background: #fff;
      color: var(--text);
      margin: 0;
      padding-top: 80px;
    }
    
    header {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 1100;
      background: #fff;
      box-shadow: var(--shadow);
    }
    
    .logo-text {
      font-weight: 700;
      color: var(--primary);
      font-size: 1.5rem;
    }
    
    .favorites-count {
      position: absolute;
      top: -6px;
      left: -6px;
      background: var(--accent);
      color: #fff;
      border-radius: 50%;
      width: 20px;
      height: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: .75rem;
    }
    
    .hero {
      height: 90vh;
      background: linear-gradient(rgba(0,0,0,.45), rgba(0,0,0,.45)), url('https://images.pexels.com/photos/1267320/pexels-photo-1267320.jpeg') center/cover no-repeat;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #fff;
      text-align: center;
    }
    
    .section-title {
      text-align: center;
      margin-bottom: 40px;
    }
    
    .categories-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 20px;
    }
    
    .category-card {
      background: #fff;
      border-radius: 16px;
      box-shadow: var(--shadow);
      overflow: hidden;
      text-align: center;
      padding-bottom: 18px;
      cursor: pointer;
      transition: transform 0.3s ease;
    }
    
    .category-card:hover {
      transform: translateY(-5px);
    }
    
    .category-icon {
      height: 140px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(135deg, var(--primary), var(--primary-dark));
      color: #fff;
      font-size: 3rem;
    }
    
    .products-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
      gap: 22px;
    }
    
    .product-card {
      background: #fff;
      border-radius: 14px;
      box-shadow: var(--shadow);
      overflow: hidden;
      cursor: pointer;
      transition: transform .2s;
    }
    
    .product-card:hover {
      transform: translateY(-6px);
    }
    
    .product-image {
      width: 100%;
      height: 180px;
      object-fit: cover;
      display: block;
    }
    
    .product-content {
      padding: 14px;
    }
    
    .favorite-small {
      background: none;
      border: 0;
      font-size: 1.1rem;
      color: #aaa;
    }
    
    footer {
      background: linear-gradient(to right, #8e0000, #c62828);
      color: #fff;
      padding: 40px 0;
      margin-top: 40px;
    }
    
    /* قسم المتجر الإلكتروني الجديد */
    .store-section {
      background-color: #f8f9fa;
      padding: 60px 0;
    }
    
    .store-features {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 30px;
      margin-top: 40px;
    }
    
    .feature-card {
      background: white;
      border-radius: 12px;
      padding: 30px 20px;
      text-align: center;
      box-shadow: var(--shadow);
      transition: all 0.3s ease;
    }
    
    .feature-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 30px rgba(0,0,0,0.1);
    }
    
    .feature-icon {
      font-size: 2.5rem;
      color: var(--primary);
      margin-bottom: 15px;
    }
    
    .feature-title {
      font-weight: 700;
      margin-bottom: 10px;
      color: var(--primary-dark);
    }
    
    .feature-description {
      color: #666;
      line-height: 1.6;
    }
    
    .store-cta {
      text-align: center;
      margin-top: 50px;
      padding: 30px;
      background: linear-gradient(135deg, var(--primary), var(--primary-dark));
      border-radius: 16px;
      color: white;
    }
    
    .store-cta h3 {
      margin-bottom: 15px;
    }
    
    .store-cta p {
      margin-bottom: 20px;
      opacity: 0.9;
    }
    /* خلفية شفافة خلف القائمة */
#mobileNav {
  position: fixed;
  top: 0;
  right: 0;
  left: 0;
  bottom: 0;
  z-index: 1050;
}

#mobileNav .mobile-overlay {
  position: absolute;
  top: 0; left: 0; right: 0; bottom: 0;
  background: rgba(0,0,0,.5);
  border-radius: 0;
}

/* صندوق القائمة */
#mobileNav .menu-box {
  position: relative;
  margin: 80px auto 0; /* يبعد عن الهيدر */
  background: var(--white);
  border-radius: 16px;
  box-shadow: var(--shadow);
  padding: 20px;
  width: 85%;
  max-width: 350px;
  text-align: center;
  animation: fadeInDown 0.3s ease-in-out;
}

#mobileNav a {
  display: block;
  padding: 12px;
  margin: 8px 0;
  border-radius: 10px;
  font-weight: 600;
  text-decoration: none;
  background: var(--primary);
  color: var(--white);
  transition: 0.3s;
}

#mobileNav a:hover {
  background: var(--primary-dark);
}
/* ===== Footer Design ===== */
footer {
  background: linear-gradient(135deg, var(--primary-dark), var(--primary));
  color: var(--white);
  padding: 70px 0 30px;
  position: relative;
  overflow: hidden;
}

footer::before {
  content: "";
  position: absolute;
  top: -80px;
  left: -80px;
  width: 200px;
  height: 200px;
  background: rgba(255, 171, 0, 0.1);
  border-radius: 50%;
  z-index: 0;
}

footer::after {
  content: "";
  position: absolute;
  bottom: -100px;
  right: -100px;
  width: 250px;
  height: 250px;
  background: rgba(255, 171, 0, 0.08);
  border-radius: 50%;
  z-index: 0;
}

.footer-content {
  position: relative;
  z-index: 1;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 40px;
}

.footer-column h3 {
  font-size: 1.4rem;
  margin-bottom: 25px;
  font-weight: 700;
  position: relative;
  color: var(--accent);
}

.footer-column h3::after {
  content: "";
  position: absolute;
  bottom: -8px;
  right: 0;
  width: 45px;
  height: 3px;
  background: var(--accent);
  border-radius: 2px;
}

.footer-column p,
.footer-column a {
  color: rgba(255, 255, 255, 0.85);
  font-size: 0.95rem;
  line-height: 1.8;
  text-decoration: none;
  transition: 0.3s;
  display: block;
}

.footer-column a:hover {
  color: #fff;
  transform: translateX(-5px);
}

.social-links {
  display: flex;
  gap: 12px;
  margin-top: 20px;
}

.social-links a {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.15);
  display: flex;
  align-items: center;
  justify-content: center;
  transition: 0.4s;
  font-size: 1.1rem;
  color: #fff;
}

.social-links a:hover {
  background: var(--accent);
  color: #000;
  transform: translateY(-5px) scale(1.1);
}

.copyright {
  text-align: center;
  padding-top: 25px;
  margin-top: 40px;
  border-top: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
  font-size: 0.9rem;
}

/* زر العودة للأعلى */
.scroll-to-top {
  position: fixed;
  bottom: 30px;
  left: 30px;
  width: 50px;
  height: 50px;
  border-radius: 50%;
  background: linear-gradient(135deg, var(--accent), var(--primary));
  color: var(--white);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.2rem;
  box-shadow: 0 5px 15px rgba(0,0,0,0.3);
  cursor: pointer;
  transition: 0.4s;
  z-index: 100;
  opacity: 0;
  visibility: hidden;
}

.scroll-to-top.show {
  opacity: 1;
  visibility: visible;
}

.scroll-to-top:hover {
  transform: translateY(-6px);
  background: linear-gradient(135deg, var(--primary), var(--primary-dark));
}

    @media (max-width: 992px) {
      .categories-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }
    
    @media (max-width: 576px) {
      .categories-grid {
        grid-template-columns: 1fr;
      }
      .hero {
        height: 50vh;
      }
      .store-features {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>

  <!-- Header -->
  <header>
    <div class="container">
      <div class="d-flex align-items-center justify-content-between py-3">
        <a href="index.html" class="d-flex align-items-center text-decoration-none">
          <div class="me-2" style="width:48px;height:48px;border-radius:50%;background:linear-gradient(135deg,var(--primary),var(--primary-dark));display:flex;align-items:center;justify-content:center;color:#fff">
            <i class="fa-solid fa-fire"></i>
          </div>
          <div class="logo-text">جم<span style="color:var(--accent)">ر</span></div>
        </a>

        <nav class="d-none d-md-block">
          <ul class="list-unstyled d-flex align-items-center mb-0">
            <li class="me-2"><a href="index.html" class="nav-link px-3 active">الرئيسية</a></li>
            <li class="me-2"><a href="index2.html" class="nav-link px-3">مشويات</a></li>
            <li class="me-2"><a href="index3.html" class="nav-link px-3">معجنات</a></li>
            <li class="me-2"><a href="index4.html" class="nav-link px-3">مشروبات/وجبات</a></li>
          </ul>
        </nav>

        <div class="d-flex align-items-center position-relative">
          <button id="favoritesBtn" class="btn position-relative me-2" data-bs-toggle="offcanvas" data-bs-target="#favoritesOffcanvas" aria-controls="favoritesOffcanvas" style="background:transparent;border:0">
            <i class="fa-regular fa-heart fa-lg" style="color:var(--primary)"></i>
            <span class="favorites-count" id="favoritesCount">0</span>
          </button>

          <button class="btn d-md-none" type="button" data-bs-toggle="collapse" data-bs-target="#mobileNav">
            <i class="fa-solid fa-bars" style="color:var(--primary)"></i>
          </button>
        </div>
      </div>

     <!-- Mobile Navigation -->
<div class="collapse" id="mobileNav">
  <div class="mobile-overlay"></div>
  <div class="menu-box">
    <a href="index.html">الرئيسية</a>
    <a href="index2.html">مشويات</a>
    <a href="index3.html">معجنات</a>
    <a href="index4.html">مشروبات/وجبات</a>
  </div>
</div>

    </div>
  </header>

  <!-- Hero Section -->
  <section class="hero">
    <div class="container">
      <h1 style="font-size:2.6rem">مطعم <span style="color:var(--accent)">جمر</span> لتجربة طعام لا تُنسى</h1>
      <p class="lead mt-3">اكتشف مذاقًا فريدًا يجمع بين الأصالة والحداثة في أجواء راقية</p>
      <div class="mt-4">
        <a href="index2.html" class="btn btn-lg" style="background:linear-gradient(90deg,var(--primary),var(--primary-dark));color:#fff;border-radius:30px">استعرض المشويات</a>
      </div>
    </div>
  </section>

  <!-- Categories Section -->
  <section class="py-5">
    <div class="container">
      <div class="section-title">
        <h2>أقسام المنيو</h2>
        <p class="text-muted">اختر القسم لتصفّح المنتجات الخاصة به</p>
      </div>

      <div class="categories-grid" id="categoryGrid">
        <div class="category-card" data-target="grills">
          <div class="category-icon"><i class="fa-solid fa-drumstick-bite"></i></div>
          <div class="p-3">
            <h5>المشويات</h5>
            <p class="text-muted small">أجود أنواع اللحوم على الفحم</p>
          </div>
        </div>

        <div class="category-card" data-target="pastries">
          <div class="category-icon"><i class="fa-solid fa-bread-slice"></i></div>
          <div class="p-3">
            <h5>المعجنات</h5>
            <p class="text-muted small">معجنات طازجة يوميًا</p>
          </div>
        </div>

        <div class="category-card" data-target="meals">
          <div class="category-icon"><i class="fa-solid fa-utensils"></i></div>
          <div class="p-3">
            <h5>الوجبات</h5>
            <p class="text-muted small">وجبات كاملة شهية</p>
          </div>
        </div>

        <div class="category-card" data-target="drinks">
          <div class="category-icon"><i class="fa-solid fa-glass-cheers"></i></div>
          <div class="p-3">
            <h5>المشروبات</h5>
            <p class="text-muted small">مشروبات ساخنة وباردة</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Products Preview Section -->
  <section class="py-4">
    <div class="container">
      <div class="section-title">
        <h2>أشهى الأطباق</h2>
        <p class="text-muted">نماذج من كل قسم</p>
      </div>

      <div class="products-grid" id="productsGrid">
        <!-- سيتم ملؤه ديناميكياً -->
      </div>
    </div>
  </section>

  

  <!-- التذييل -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>مطعم جمر</h3>
                    <p>نقدم لكم أفضل تجربة طعام تجمع بين الأصالة والحداثة في أجواء راقية.</p>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-whatsapp"></i></a>
                    </div>
                </div>
                <div class="footer-column">
                    <h3>روابط سريعة</h3>
                    <a href="#" data-page="home">الرئيسية</a>
                    <a href="#" data-page="grillsPage">المشويات</a>
                    <a href="#" data-page="pastriesPage">المعجنات</a>
                    <a href="#" data-page="mealsPage">الوجبات</a>
                    <a href="#" data-page="drinksPage">المشروبات</a>
                </div>
                <div class="footer-column">
                    <h3>معلومات الاتصال</h3>
                    <p><i class="fas fa-map-marker-alt" style="margin-left: 8px"></i> شارع الحرية، وسط البلد، القاهرة</p>
                    <p><i class="fas fa-phone" style="margin-left: 8px"></i> 0123456789</p>
                    <p><i class="fas fa-envelope" style="margin-left: 8px"></i> info@jamar-restaurant.com</p>
                </div>
                <div class="footer-column">
                    <h3>ساعات العمل</h3>
                    <p>السبت - الخميس: 10 صباحًا - 12 منتصف الليل</p>
                    <p>الجمعة: 1 ظهرًا - 12 منتصف الليل</p>
                    <p>جميع الأسعار بالجنيه المصري</p>
                </div>
            </div>
            <div class="copyright">
                <p>جميع الحقوق محفوظة © 2023 مطعم جمر</p>
            </div>
        </div>
    </footer>

    <!-- زر العودة للأعلى -->
    <div class="scroll-to-top" id="scrollToTop">
        <i class="fas fa-arrow-up"></i>
    </div>

  <!-- Offcanvas Favorites -->
  <div class="offcanvas offcanvas-start" tabindex="-1" id="favoritesOffcanvas" aria-labelledby="favoritesOffcanvasLabel" style="max-width:420px">
    <div class="offcanvas-header">
      <h5 class="offcanvas-title" id="favoritesOffcanvasLabel">قائمة المفضلة</h5>
      <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body">
      <div id="favoritesList" class="d-grid gap-3">
        <!-- سيتم إدراج العناصر هنا -->
      </div>
      <div id="emptyFavText" class="text-center text-muted mt-4">لا توجد عناصر في المفضلة بعد</div>
    </div>
  </div>

  <!-- Product Detail Modal -->
  <div class="modal fade" id="productModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg">
      <div class="modal-content">
        <div class="modal-body p-0">
          <div class="row g-0">
            <div class="col-md-6">
              <img id="modalImage" src="" alt="" style="width:100%;height:100%;object-fit:cover">
            </div>
            <div class="col-md-6 p-4">
              <h4 id="modalTitle"></h4>
              <p id="modalDesc" class="text-muted"></p>
              <h5 id="modalPrice" class="text-danger"></h5>
              <div class="mt-3">
                <button id="modalFavBtn" class="btn btn-outline-danger me-2"><i class="fa-regular fa-heart"></i> أضف للمفضلة</button>
                <button class="btn btn-primary" data-bs-dismiss="modal">إغلاق</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

  <script>
    // بيانات المنتجات المشتركة
    const productsData = {
      grills: [
        {id:1, name:"شيش طاووق", price:120, image:"https://t4.ftcdn.net/jpg/02/65/88/67/360_F_265886712_q9OncSS2ieh1R3bJnvzTqSRhISn7dL7J.jpg", description:"شيش طاووق مشوي على الفحم مع الأرز والسلطة"},
        {id:2, name:"كفتة مشوية", price:110, image:"https://www.supermama.me/system/App/Models/Recipe/images/000/108/496/watermarked/%D9%83%D9%81%D8%AA%D8%A9-%D9%85%D8%B4%D9%88%D9%8A%D8%A9-%D9%81%D9%8A-%D8%A7%D9%84%D8%B7%D8%A7%D8%B3%D8%A9.jpg", description:"كفتة مشوية على الفحم مع البطاطس"}
      ],
      pastries: [
        {id:3, name:"فطيرة سبانخ", price:45, image:"https://elwasfa.com/wp-content/uploads/2017/09/MG_0938-600x400.jpg", description:"فطيرة محشوة بالسبانخ والجبنة"},
        {id:4, name:"مناقيش زعتر", price:35, image:"https://img.freepik.com/premium-photo/photo-high-quality-details-lebanese-manousheh_933496-20336.jpg", description:"مناقيش طازجة بالزعتر"}
      ],
      meals: [
        {id:5, name:"كشري مصري", price:35, image:"https://elwasfa.com/wp-content/uploads/2023/09/untitled-9.jpg", description:"كشري مصري تقليدي بالشطة والصلصة"},
        {id:6, name:"محشي ورق عنب", price:60, image:"https://img.youm7.com/ArticleImgs/2022/5/18/46188-%D8%B7%D8%B1%D9%8A%D9%82%D8%A9-%D8%B9%D9%85%D9%84-%D9%88%D8%B1%D9%82-%D8%A7%D9%84%D8%B9%D9%86%D8%A8.jpg", description:"محشي ورق عنب شهي"}
      ],
      drinks: [
        {id:7, name:"عصير برتقال طازج", price:25, image:"https://img.freepik.com/premium-photo/citrus-juices-orange-juice-with-fresh-fruits-blue-wooden-table-with-space-text_262193-3357.jpg", description:"عصير برتقال طبيعي 100%"},
        {id:8, name:"قهوة تركية", price:20, image:"https://www.atyabtabkha.com/tachyon/sites/2/2023/08/TURKISH-COFFEE.jpg", description:"قهوة تركية أصيلة"}
      ],
      offers: [
        {id:9, name:"عرض الشيش طاووق", oldPrice:150, newPrice:120, image:"https://images.pexels.com/photos/6210746/pexels-photo-6210746.jpeg", description:"عرض لفترة محدودة"}
      ]
    };

    // المفضلة مخزنة في localStorage
    let favorites = JSON.parse(localStorage.getItem('jm_favorites') || '[]');

    // عناصر DOM
    const productsGrid = document.getElementById('productsGrid');
    const favoritesCountEl = document.getElementById('favoritesCount');
    const favoritesListEl = document.getElementById('favoritesList');
    const emptyFavText = document.getElementById('emptyFavText');

    // Modal
    const productModal = new bootstrap.Modal(document.getElementById('productModal'));
    const modalImage = document.getElementById('modalImage');
    const modalTitle = document.getElementById('modalTitle');
    const modalDesc = document.getElementById('modalDesc');
    const modalPrice = document.getElementById('modalPrice');
    const modalFavBtn = document.getElementById('modalFavBtn');

    let currentModalProductId = null;

    // عند تحميل الصفحة - اعرض عينات من كل قسم
    document.addEventListener('DOMContentLoaded', () => {
      renderHomePreview();
      updateFavoritesUI();
      attachCategoryClicks();
    });

    // عرض عينات مختارة
    function renderHomePreview() {
      productsGrid.innerHTML = '';
      const items = [
        ...productsData.grills.slice(0, 2),
        ...productsData.pastries.slice(0, 2),
        ...productsData.meals.slice(0, 2),
        ...productsData.drinks.slice(0, 2)
      ];
      items.forEach(p => productsGrid.appendChild(createProductCard(p)));
    }

    // إنشاء بطاقة منتج
    function createProductCard(p) {
      const card = document.createElement('div');
      card.className = 'product-card';
      card.innerHTML = `
        <img src="${p.image}" class="product-image" alt="${p.name}">
        <div class="product-content">
          <div class="d-flex justify-content-between align-items-start">
            <div><h6 class="mb-1">${p.name}</h6><small class="text-muted">${p.description}</small></div>
            <div class="text-end">
              <div class="fw-bold text-danger">${p.price} ج.م</div>
              <button class="favorite-small btn" data-id="${p.id}" title="مفضلة"><i class="${favorites.includes(p.id) ? 'fa-solid' : 'fa-regular'} fa-heart" style="color:var(--primary)"></i></button>
            </div>
          </div>
        </div>
      `;
      // عند الضغط على الصورة أو اسم - افتح مودال التفاصيل
      card.querySelector('.product-image').addEventListener('click', () => openProductModal(p.id));
      card.querySelector('.product-content h6, .product-content small').addEventListener('click', () => openProductModal(p.id));
      // زر القلب داخل البطاقة
      const favBtn = card.querySelector('.favorite-small');
      favBtn.addEventListener('click', (e) => {
        e.stopPropagation();
        toggleFavorite(p.id);
      });
      return card;
    }

    // فتح مودال المنتج (يبحث في كل القوائم)
    function openProductModal(id) {
      const all = [...productsData.grills, ...productsData.pastries, ...productsData.meals, ...productsData.drinks, ...productsData.offers];
      const p = all.find(x => x.id === id);
      if (!p) return;
      currentModalProductId = id;
      modalImage.src = p.image;
      modalTitle.textContent = p.name;
      modalDesc.textContent = p.description || '';
      modalPrice.textContent = (p.price ? p.price + ' ج.م' : (p.newPrice ? p.newPrice + ' ج.م' : ''));
      updateModalFavBtn();
      productModal.show();
    }

    function updateModalFavBtn() {
      if (favorites.includes(currentModalProductId)) {
        modalFavBtn.innerHTML = '<i class="fa-solid fa-heart"></i> إزالة من المفضلة';
        modalFavBtn.classList.remove('btn-outline-danger');
        modalFavBtn.classList.add('btn-danger');
      } else {
        modalFavBtn.innerHTML = '<i class="fa-regular fa-heart"></i> أضف للمفضلة';
        modalFavBtn.classList.add('btn-outline-danger');
        modalFavBtn.classList.remove('btn-danger');
      }
    }

    modalFavBtn.addEventListener('click', () => {
      toggleFavorite(currentModalProductId);
      updateModalFavBtn();
    });

    // تبديل مفضلة
    function toggleFavorite(id) {
      const idx = favorites.indexOf(id);
      if (idx === -1) favorites.push(id);
      else favorites.splice(idx, 1);
      localStorage.setItem('jm_favorites', JSON.stringify(favorites));
      updateFavoritesUI();
      // تحديث أي أيقونات القلوب في الصفحة
      document.querySelectorAll('[data-id]').forEach(btn => {
        const bid = parseInt(btn.getAttribute('data-id'));
        if (bid === id) {
          const icon = btn.querySelector('i') || btn;
          if (favorites.includes(id)) icon.className = 'fa-solid fa-heart';
          else icon.className = 'fa-regular fa-heart';
        }
      });
    }

    // تحديث واجهة المفضلة (العداد والشريط)
    function updateFavoritesUI() {
      favoritesCountEl.textContent = favorites.length;
      favoritesListEl.innerHTML = '';
      if (favorites.length === 0) {
        emptyFavText.style.display = 'block';
        return;
      }
      emptyFavText.style.display = 'none';
      const all = [...productsData.grills, ...productsData.pastries, ...productsData.meals, ...productsData.drinks, ...productsData.offers];
      favorites.forEach(id => {
        const p = all.find(x => x.id === id);
        if (!p) return;
        const node = document.createElement('div');
        node.className = 'd-flex align-items-center gap-3';
        node.style.cursor = 'pointer';
        node.innerHTML = `<img src="${p.image}" style="width:64px;height:64px;object-fit:cover;border-radius:10px"><div class="flex-grow-1"><div class="fw-bold">${p.name}</div><div class="text-muted small">${p.price ? p.price + ' ج.م' : ''}</div></div><button class="btn btn-sm btn-outline-danger remove-fav" data-id="${p.id}"><i class="fa-solid fa-trash"></i></button>`;
        // عند الضغط على العنصر - افتح المودال بتفاصيله
        node.addEventListener('click', (e) => {
          if (e.target.closest('.remove-fav')) return;
          productModal.show();
          openProductModal(p.id);
          // إغلاق offcanvas
          const off = bootstrap.Offcanvas.getInstance(document.getElementById('favoritesOffcanvas'));
          if (off) off.hide();
        });
        favoritesListEl.appendChild(node);
      });
      // أزرار إزالة
      favoritesListEl.querySelectorAll('.remove-fav').forEach(btn => {
        btn.addEventListener('click', (e) => {
          e.stopPropagation();
          const id = parseInt(btn.dataset.id);
          favorites = favorites.filter(x => x !== id);
          localStorage.setItem('jm_favorites', JSON.stringify(favorites));
          updateFavoritesUI();
        });
      });
    }
// زر العودة للأعلى
const scrollToTopBtn = document.getElementById("scrollToTop");

window.addEventListener("scroll", () => {
  if (window.scrollY > 200) {
    scrollToTopBtn.classList.add("show");
  } else {
    scrollToTopBtn.classList.remove("show");
  }
});

scrollToTopBtn.addEventListener("click", () => {
  window.scrollTo({
    top: 0,
    behavior: "smooth"
  });
});
    // عند النقر على بطاقة قسم - انتقل للملف المناسب
    function attachCategoryClicks() {
      document.querySelectorAll('.category-card').forEach(card => {
        const t = card.dataset.target;
        card.addEventListener('click', () => {
          if (t === 'grills') window.location.href = 'index2.html';
          if (t === 'pastries') window.location.href = 'index3.html';
          if (t === 'meals' || t === 'drinks') window.location.href = 'index4.html';
        });
      });
    }
  </script>
</body>
</html>